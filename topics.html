<html>
<head>
	<script type="text/javascript" src="bower_components/jquery/jquery.min.js"></script>
	<script type="text/javascript" src="bower_components/handlebars/handlebars.min.js"></script>
	<script type="text/javascript" src="bower_components/moment/min/moment.min.js"></script>
	<script type="text/javascript" src="js/helpers.js"></script>
	<script type="text/javascript" src="js/gimme.js"></script>
	<link href="bower_components/sassquatch/css/sassquatch.css" type="text/css" rel="stylesheet" />
	<link href="css/whitney.css" type="text/css" rel="stylesheet" /> <!-- whitney will get bowerized -->
	<link href="css/patch.css" type="text/css" rel="stylesheet" />
	<link href="css/home.css" type="text/css" rel="stylesheet" />
</head>
<body>



<script type="text/html" id="main-template">
<!-- navs -->
<div class="page off inverted" id="page-members">
	<input type="button" class="button-outline" value="close" id="page-members-close" />
	<ul class="blockList has3 align-center">
		{{#members}}
		<li>
			<div class="avatar-160" style="background-image: url({{photo}})"></div>
			<h3>{{name}}</h3>
			<p>Joined {{dateFormat joined}}</p>
			<p>{{bio}}</p>
		{{/members}}
	</ul>
</div>

<!-- screen start -->
<div class="doc-stripe">
	<!-- header -->
	<div id="groupheader" class="nametag-photo" style="background-image: url({{group.group_photo.highres_link}})">
		<div class="nametag-photo-name">
			<div class="doc-bounds inverted">
				<div id="groupheader-icon"></div>
				<h2 class="margin-none padding-none">{{group.name}}</h2>
				<p class="margin-minimal">{{group.city}}, {{group.state}} &middot; {{numberFormat group.members}} {{group.who}}</p>
				<input class="button primary block-at-handheld" value="Join" />
			</div>
		</div>
	</div>
	<div id="groupinfo">
		<div class="doc-bounds">
			
			{{{group.description}}}
			
			<div class="line align-center">
				<div class="unit size1of4">
					Past meetups
					<h5>108</h5>
				</div>
				<div class="unit size1of4">
				Past meetups
				<h5>108</h5>
				</div>
				<div class="unit size1of4">
				Past meetups
				<h5>108</h5>
				</div>
				<div class="unit size1of4">
				Past meetups
				<h5>108</h5>
				</div>
				
			</div>
			
			
			<!-- zoom into member browser view  (clicking on org also does this??) -->
			<ul class="inlineList" id="members">
				{{#members}}
				<li>
					<div class="avatar-60 margin-none" style="background-image: url({{photo}})"></div>
				{{/members}}
			</ul>
			
			<!-- collapsable group info -->
			<!-- group data collapses into swipeable stuff at small sizes -->
			<!-- members are swipeable -->
		</div>
	</div>
</div>

<div class="doc-stripe"><div class="doc-bounds">	
	<!-- events -->	
</div></div>

<div class="doc-stripe"><div class="doc-bounds">	
	<!-- discussion -->
	<ul>
	{{#discussions}}
		<li>
			<h4>{{subject}}</h4>
			<p>{{body}}</p>
		</li>
	{{/discussions}}
	</ul>
</div></div>

<div class="doc-stripe"><div class="doc-bounds">	
	<!-- related groups, scrolly -->
</div></div>


</script>



<script type="text/javascript">
$(function(){	
	/* 
	* Uncomment the data you want -- it will be available in the template 
	* Check out the Meetup API docs for a list of fields to use in the template
	* http://www.meetup.com/meetup_api/docs/
	*
	* A few notes:
	* -- You can specify any field supported by the API
	* -- You can leave every field unspecified except "gimme" -- something random/fun will be picked for you.
	*/
	
	var shoppingList = [
		//{"gimme": "groups"},		
		{"gimme": "group"},
		//{"gimme": "open_events"}, 
		//{"gimme": "dates_with_open_events"}, 
		//{"gimme": "events"}, 
		//{"gimme": "event"},		
		//{"gimme": "rsvps"},	
		//{"gimme": "event_comments"},
		//{"gimme": "photo_albums"},
		//{"gimme": "photos"},
		{"gimme": "members", "page": 40},
		//{"gimme": "profile"},
		//{"gimme": "categories"},
		{"gimme": "discussions"}
	];
	
	var extraContext = {}; // anything else to add to the handlebars context?
	
	// Let's go!
	var gme = new Gimme(shoppingList, function(){
		$("#template-holder").load('./js/partials.html', function(){ // load partials
			$('body').append( Handlebars.compile( $('#main-template').html() )( gme.context ) ); // render template
			defaultRenderCompleteActions(); // do standard jquery magicks
			/* Add your own post-rendering JS here */
			
			$('#members').click(function(){
				$('#page-members').removeClass('off');
			});
			$('#page-members-close').click(function(){
				$('#page-members').addClass('off');
			});
		});
	}, extraContext);
});
</script>

<div id="template-holder"></div>

</body>
</html>
